<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DiamondLink | チームを登録する</title>
  <link rel="icon" href="/diamondlink/images/fabicon_square.png" type="image/png">
  <link rel="stylesheet" href="/diamondlink/css/style.css?v=2">
  <link rel="stylesheet" href="/diamondlink/css/header.css">

 <style>
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('/diamondlink/images/background-1.png'); /* ←背景画像リンク*/
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.2;
  z-index: -1;
}
</style>

  <style>
.long-input {
  width: 400px; /* 入力枠を横長にする */
}

.name-fields {
  display: flex;
  align-items: center; /* 中央に揃える */
  gap: 10px; /* 項目同士の間隔 */
}

.name-fields label {
  margin-bottom: 0; /* 余計な改行を消す */
}

.field-group {
  display: flex;
  flex-direction: column;
}
    
.area-fields {
  display: flex;
  gap: 20px;
  margin-top: 10px; /* 活動地域：から少し間を空ける */
}
    
</style>

  <style>
.sns-input {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 10px;
}
.sns-input img {
  width: 24px;
}
.sns-input input {
  flex: 1;
}
</style>

  <style>
  .competition-fields {
  display: flex;
  gap: 20px;
  margin-top: 10px;
}

.competition-fields .field-group {
  display: flex;
  flex-direction: column;
}
</style>

  <style>
.gender-age-fields {
  display: flex;
  gap: 20px;
  margin-top: 10px;
}
.gender-age-fields .field-group {
  display: flex;
  flex-direction: column;
}
</style>
  
</head>
<body>

  <!-- 共通ヘッダー挿入 -->
  <div id="header-placeholder"></div>

  <!-- メインコンテンツ -->
  <main class="container">
    <div class="fade-in-section">
    <h1>チームを登録する</h1>

<form id="team-registration-form">
      
    <!-- チーム情報（カード） -->
<div class="card fade-in-section">
  <fieldset>
    <legend>チーム情報</legend>

    <!-- チーム名 -->
    <label>チーム名<span class="required">*</span><br>
      <input type="text" name="team-name" class="long-input" required>
    </label><br><br>

    <!-- 代表者の姓名 -->
<div class="representative-name">
  <label>代表者氏名：</label><br>
  <div class="name-fields">
  <label for="last-name">姓<span class="required">*</span></label>
  <input type="text" name="last-name" id="last-name" required>

  <label for="first-name">名<span class="required">*</span></label>
  <input type="text" name="first-name" id="first-name" required>
</div>
</div>
<br><br>

    <!-- 連絡先（メールアドレス） -->
    <label>連絡先（メールアドレス）<span class="required">*</span><br>
      <input type="email" name="email" class="long-input" placeholder="例：diamondlink@example.com" required>
    </label><br><br>

    <!-- チーム紹介 -->
    <label>チーム紹介（自由記入欄）<br>
      <textarea name="team-introduction" rows="20" cols="120" placeholder="例：【チーム名】は⚫︎⚫︎県▲▲市で活動している一般女子のゴムソフトボールチームです。

現在のメンバーは⚫︎⚫︎名ほどで、毎週日曜日に練習・試合を行なっています。
全国大会優勝を目標に活動しているので、みんな真剣に取り組んでいますが、メンバーはみんな和気藹々としていて、とても仲が良いチームです！

現在のメンバーは20代〜30代がメインで、未経験スタートのメンバーから実業団出身のメンバーまで、幅広く在籍しています。

懇親会や、大会の打ち上げも時々開催していますが、もちろん参加は強制ではありません。
みんなそれぞれのペースで活動しています。

経験者の方も、未経験の方も、私たちと一緒に、楽しくソフトボールをしませんか？

ぜひ1度練習に体験にいらしてください☆
お問い合わせお待ちしています♪"></textarea>
    </label><br><br>
  </fieldset>
</div>

      <!-- 活動地域（横並びに修正） -->
  <div class="card fade-in-section">
    <fieldset> 
  <legend>活動地域</legend><br>
     <div class="area-fields">
  <div class="field-group">
    <label for="prefecture">都道府県<span class="required">*</span></label>
    <select name="prefecture" id="prefecture" required>
      <option value="">選択してください</option>
    </select>
    <div class="error-message" id="error-prefecture"></div>
  </div>

  <div class="field-group">
    <label for="city-select">市区町村<span class="required">*</span></label>
    <select name="city" id="city-select" required>
      <option value="">選択してください</option>
    </select>
    <div class="error-message" id="error-city"></div>
  </div>
</div>
<br><br>
      </fieldset>
      </div>

      <!-- チーム構成（カード） -->
      <div class="card fade-in-section">
      <fieldset>
        <legend>チーム構成</legend>
        <div class="competition-fields">
  <div class="field-group">
    <label>競技種別<span class="required">*</span><br>
      <select name="sport-type" id="sport-type" required>
        <option value="">選択してください</option>
        <option value="baseball">野球</option>
        <option value="softball">ソフトボール</option>
      </select>
    </label>
  </div>

  <div class="field-group">
    <label>区分<span class="required">*</span><br>
      <select name="division" id="division" required disabled>
        <option value="">選択してください</option>
      </select>
    </label>
  </div>
</div>

        <div class="gender-age-fields">
  <div class="field-group">
    <label>性別<span class="required">*</span><br>
      <select name="gender" required>
        <option value="">選択してください</option>
        <option value="male">男子</option>
        <option value="female">女子</option>
        <option value="mixed">混合</option>
      </select>
      <div class="error-message" id="error-gender"></div>
    </label>
  </div>

  <div class="field-group">
    <label>部門<span class="required">*</span><br>
      <select name="age-group" required>
        <option value="">選択してください</option>
        <option value="adult">一般</option>
        <option value="high-school">高校生</option>
        <option value="junior high-school">中学生</option>
        <option value="elementary school">小学生</option>
        <option value="other">その他</option>
      </select>
      <div class="error-message" id="error-age-group"></div>
    </label>
  </div>
</div>
      </fieldset>
        </div>

     <!--「練習日」（カード） -->
<div class="card fade-in-section">
      <fieldset>
  <legend>練習日</legend>

  <!-- 月曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-monday" id="monday" class="practice-checkbox">
    </label>
    <label>
      <select name="monday-frequency" id="monday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>月曜日</span>
    <div class="monday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="monday-week1">第1</label>
      <label><input type="checkbox" name="monday-week2">第2</label>
      <label><input type="checkbox" name="monday-week3">第3</label>
      <label><input type="checkbox" name="monday-week4">第4</label>
      <label><input type="checkbox" name="monday-week5">第5</label>
      <label><input type="checkbox" name="monday-week-etc">不定</label>
    </div>
    <input type="time" name="monday-start" id="monday-start" disabled>
    <input type="time" name="monday-end" id="monday-end" disabled>
  </div>

  <!-- 火曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-tuesday" id="tuesday" class="practice-checkbox">
    </label>
    <label>
      <select name="tuesday-frequency" id="tuesday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>火曜日</span>
    <div class="tuesday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="tuesday-week1">第1</label>
      <label><input type="checkbox" name="tuesday-week2">第2</label>
      <label><input type="checkbox" name="tuesday-week3">第3</label>
      <label><input type="checkbox" name="tuesday-week4">第4</label>
      <label><input type="checkbox" name="tuesday-week5">第5</label>
      <label><input type="checkbox" name="tuesday-week-etc">不定</label>
    </div>
    <input type="time" name="tuesday-start" id="tuesday-start" disabled>
    <input type="time" name="tuesday-end" id="tuesday-end" disabled>
  </div>

  <!-- 水曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-wednesday" id="wednesday" class="practice-checkbox">
    </label>
    <label>
      <select name="wednesday-frequency" id="wednesday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>水曜日</span>
    <div class="wednesday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="wednesday-week1">第1</label>
      <label><input type="checkbox" name="wednesday-week2">第2</label>
      <label><input type="checkbox" name="wednesday-week3">第3</label>
      <label><input type="checkbox" name="wednesday-week4">第4</label>
      <label><input type="checkbox" name="wednesday-week5">第5</label>
      <label><input type="checkbox" name="wednesday-week-etc">不定</label>
    </div>
    <input type="time" name="wednesday-start" id="wednesday-start" disabled>
    <input type="time" name="wednesday-end" id="wednesday-end" disabled>
  </div>

  <!-- 木曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-thursday" id="thursday" class="practice-checkbox">
    </label>
    <label>
      <select name="thursday-frequency" id="thursday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>木曜日</span>
    <div class="thursday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="thursday-week1">第1</label>
      <label><input type="checkbox" name="thursday-week2">第2</label>
      <label><input type="checkbox" name="thursday-week3">第3</label>
      <label><input type="checkbox" name="thursday-week4">第4</label>
      <label><input type="checkbox" name="thursday-week5">第5</label>
      <label><input type="checkbox" name="thursday-week-etc">不定</label>
    </div>
    <input type="time" name="thursday-start" id="thursday-start" disabled>
    <input type="time" name="thursday-end" id="thursday-end" disabled>
  </div>

  <!-- 金曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-friday" id="friday" class="practice-checkbox">
    </label>
    <label>
      <select name="friday-frequency" id="friday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>金曜日</span>
    <div class="friday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="friday-week1">第1</label>
      <label><input type="checkbox" name="friday-week2">第2</label>
      <label><input type="checkbox" name="friday-week3">第3</label>
      <label><input type="checkbox" name="friday-week4">第4</label>
      <label><input type="checkbox" name="friday-week5">第5</label>
      <label><input type="checkbox" name="friday-week-etc">不定</label>
    </div>
    <input type="time" name="friday-start" id="friday-start" disabled>
    <input type="time" name="friday-end" id="friday-end" disabled>
  </div>

  <!-- 土曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-saturday" id="saturday" class="practice-checkbox">
    </label>
    <label>
      <select name="saturday-frequency" id="saturday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>土曜日</span>
    <div class="saturday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="saturday-week1">第1</label>
      <label><input type="checkbox" name="saturday-week2">第2</label>
      <label><input type="checkbox" name="saturday-week3">第3</label>
      <label><input type="checkbox" name="saturday-week4">第4</label>
      <label><input type="checkbox" name="saturday-week5">第5</label>
      <label><input type="checkbox" name="saturday-week-etc">不定</label>
    </div>
    <input type="time" name="saturday-start" id="saturday-start" disabled>
    <input type="time" name="saturday-end" id="saturday-end" disabled>
  </div>

  <!-- 日曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-sunday" id="sunday" class="practice-checkbox">
    </label>
    <label>
      <select name="sunday-frequency" id="sunday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>日曜日</span>
    <div class="sunday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="sunday-week1">第1</label>
      <label><input type="checkbox" name="sunday-week2">第2</label>
      <label><input type="checkbox" name="sunday-week3">第3</label>
      <label><input type="checkbox" name="sunday-week4">第4</label>
      <label><input type="checkbox" name="sunday-week5">第5</label>
      <label><input type="checkbox" name="sunday-week-etc">不定</label>
    </div>
    <input type="time" name="sunday-start" id="sunday-start" disabled>
    <input type="time" name="sunday-end" id="sunday-end" disabled>
  </div>
</fieldset>
  </div>
      
      <!-- SNSアカウント（カード） -->
<div class="card fade-in-section">
  <fieldset>
    <legend>SNSアカウント（任意）</legend>

    <label>
      <img src="/diamondlink/images/x-icon.png" alt="Xアイコン" style="width:20px; vertical-align:middle; margin-right:5px;">
      X（旧Twitter）URL<br>
      <input type="url" name="x-url" class="long-input" placeholder="https://twitter.com/example">
    </label><br><br>

    <label>
      <img src="/diamondlink/images/Instagram-icon.png" alt="Instagramアイコン" style="width:20px; vertical-align:middle; margin-right:5px;">
      Instagram URL<br>
      <input type="url" name="instagram-url" class="long-input" placeholder="https://instagram.com/example">
    </label><br><br>

    <label>
      <img src="/diamondlink/images/YouTube-icon.png" alt="YouTubeアイコン" style="width:20px; vertical-align:middle; margin-right:5px;">
      YouTube URL<br>
      <input type="url" name="youtube-url" class="long-input" placeholder="https://youtube.com/@example">
    </label><br><br>

  </fieldset>
</div><br>

  <!-- 送信ボタン-->
<button type="submit" disabled>送信（ダミー）</button>
<p style="font-size: small; color: gray;">※現在は送信機能は未対応です</p>
</form> 
  
  </main>

  <div id="footer-placeholder"></div>

  <!-- ログインモーダル -->
<div id="login-modal" class="modal">
  <!-- ログインフォームをあとで入れる -->
</div>

<!-- サインアップモーダル -->
<div id="signup-modal" class="modal">
  <!-- サインアップフォームをあとで入れる -->
</div>

  <!-- JavaScriptまとめ -->
 <script src="/diamondlink/js/header-loader.js"></script>
<script src="/diamondlink/js/header-mobile.js"></script>

<!-- 都道府県・市区町村 読み込み -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const prefectureSelect = document.getElementById('prefecture');
  const citySelect = document.getElementById('city-select');

  citySelect.disabled = true; // 最初は市区町村をグレーアウトしておく

  fetch('/diamondlink/json/prefecture.json')
    .then(response => response.json())
    .then(data => {
      prefectureSelect.innerHTML = '<option value="">選択してください</option>';
      for (const region in data) {
        const optgroup = document.createElement('optgroup');
        optgroup.label = region;
        data[region].forEach(pref => {
          const option = document.createElement('option');
          option.value = pref;
          option.textContent = pref;
          optgroup.appendChild(option);
        });
        prefectureSelect.appendChild(optgroup);
      }
    })
    .catch(error => {
      console.error('都道府県リストの読み込みに失敗しました:', error);
    });

  prefectureSelect.addEventListener('change', function() {
    const selectedPrefecture = this.value;
    citySelect.innerHTML = '<option value="">選択してください</option>';

    if (selectedPrefecture) {
      citySelect.disabled = false; // 都道府県が選ばれたら市区町村を有効化
      fetch('/diamondlink/json/prefecture_city.json')
        .then(response => response.json())
        .then(data => {
          if (data[selectedPrefecture]) {
            data[selectedPrefecture].forEach(city => {
              const option = document.createElement('option');
              option.value = city;
              option.textContent = city;
              citySelect.appendChild(option);
            });
          }
        })
        .catch(error => {
          console.error('市区町村データの読み込みに失敗しました:', error);
        });
    } else {
      citySelect.disabled = true; // 都道府県が未選択になったらまたグレーアウト
    }
  });
});
</script>

<!-- 競技種別と区分の連動 -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const sportType = document.getElementById('sport-type');
  const division = document.getElementById('division');

  sportType.addEventListener('change', function() {
    division.innerHTML = '<option value="">選択してください</option>';
    if (sportType.value === "baseball") {
      division.disabled = false;
      ["指定なし", "軟式", "準硬式", "硬式"].forEach(opt => {
        const option = document.createElement('option');
        option.value = opt;
        option.textContent = opt;
        division.appendChild(option);
      });
    } else if (sportType.value === "softball") {
      division.disabled = false;
      ["指定なし", "ゴム", "革"].forEach(opt => {
        const option = document.createElement('option');
        option.value = opt;
        option.textContent = opt;
        division.appendChild(option);
      });
    } else {
      division.disabled = true;
    }
  });
});
</script>

<!-- SNS URLチェック -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const form = document.getElementById('team-registration-form');

  form.addEventListener('submit', function(event) {
    let hasError = false;
    const xUrl = form.querySelector('input[name="x-url"]').value.trim();
    const instagramUrl = form.querySelector('input[name="instagram-url"]').value.trim();
    const youtubeUrl = form.querySelector('input[name="youtube-url"]').value.trim();

    if (xUrl && !xUrl.startsWith('https://twitter.com/')) {
      alert('X（旧Twitter）のURLは「https://twitter.com/〜」で始まる必要があります。');
      hasError = true;
    }
    if (instagramUrl && !(instagramUrl.startsWith('https://instagram.com/') || instagramUrl.startsWith('https://www.instagram.com/'))) {
      alert('InstagramのURLは「https://instagram.com/〜」で始まる必要があります。');
      hasError = true;
    }
    if (youtubeUrl && !(youtubeUrl.startsWith('https://youtube.com/') || youtubeUrl.startsWith('https://www.youtube.com/'))) {
      alert('YouTubeのURLは「https://youtube.com/〜」または「https://www.youtube.com/〜」で始まる必要があります。');
      hasError = true;
    }

    if (hasError) {
      event.preventDefault();
    }
  });
});
</script>

<!-- ログインユーザー情報（仮入力） -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  document.getElementById('last-name').value = '山田';
  document.getElementById('first-name').value = '太郎';
});
</script>

<!-- 練習日設定（チェックボックス・プルダウン・週選択の連動） -->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];

  days.forEach(day => {
    const checkbox = document.getElementById(day);
    const frequency = document.getElementById(day + '-frequency');
    const weekCheckboxes = document.querySelector('.' + day + '-weeks');
    const start = document.getElementById(day + '-start');
    const end = document.getElementById(day + '-end');

    checkbox.addEventListener('change', function() {
  const enabled = checkbox.checked;
  frequency.disabled = !enabled;
  start.disabled = !enabled;
  end.disabled = !enabled;
  
  if (enabled) {
    // チェックONになったとき
    if (frequency.value === 'monthly') {
      weekCheckboxes.style.display = 'inline-block';
    } else {
      weekCheckboxes.style.display = 'none';
    }
  } else {
    // チェックOFFになったとき
    weekCheckboxes.style.display = 'none';
    weekCheckboxes.querySelectorAll('input[type="checkbox"]').forEach(weekCheckbox => {
      weekCheckbox.checked = false;
    });
  }
});

    frequency.addEventListener('change', function() {
      if (frequency.value === 'monthly') {
        weekCheckboxes.style.display = 'inline-block'; // 横並びしやすいように
      } else {
        weekCheckboxes.style.display = 'none';
        // 選択肢もリセット
        weekCheckboxes.querySelectorAll('input[type="checkbox"]').forEach(weekCheckbox => {
          weekCheckbox.checked = false;
        });
      }
    });
  });
});
</script>

<script src="/diamondlink/js/common.js"></script>
  
</body>
</html>
