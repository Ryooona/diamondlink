<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DiamondLink | チーム登録</title>
  <link rel="icon" href="/diamondlink/images/fabicon_square.png" type="image/png">
  <link rel="stylesheet" href="/diamondlink/css/style.css?v=2">
  <link rel="stylesheet" href="/diamondlink/css/header.css">
</head>
<body>

  <!-- 共通ヘッダー挿入 -->
  <div id="header-placeholder"></div>

  <!-- メインコンテンツ -->
  <main class="container">
    <h1>チーム登録</h1>

    <form id="team-registration-form">
      <!-- チーム名 -->
      <label>チーム名<span class="required">*</span><br>
        <input type="text" name="team-name" required>
      </label><br><br>

      <!-- 活動地域 -->
      <fieldset>
        <legend>活動地域</legend>
        <label>都道府県<span class="required">*</span><br>
          <select name="prefecture" id="prefecture" required>
            <option value="">選択してください</option>
          </select>
          <div class="error-message" id="error-prefecture"></div>
        </label><br><br>
        <label>市区町村<span class="required">*</span><br>
          <select name="city" id="city-select" required>
            <option value="">選択してください</option>
          </select>
          <div class="error-message" id="error-city"></div>
        </label><br><br>
      </fieldset><br>

      <!-- チーム構成 -->
      <fieldset>
        <legend>チーム構成</legend>
        <label>競技種別<span class="required">*</span><br>
          <select name="sport-type" id="sport-type" required>
            <option value="">選択してください</option>
            <option value="baseball">野球</option>
            <option value="softball">ソフトボール</option>
          </select>
        </label><br><br>
        <label>区分<span class="required">*</span><br>
          <select name="division" id="division" required disabled>
            <option value="">選択してください</option>
          </select>
        </label><br><br>

        <label>性別<span class="required">*</span><br>
          <select name="gender" required>
            <option value="">選択してください</option>
            <option value="male">男子</option>
            <option value="female">女子</option>
            <option value="mixed">混合</option>
          </select>
          <div class="error-message" id="error-gender"></div>
        </label><br><br>

        <label>年齢層<span class="required">*</span><br>
          <select name="age-group" required>
            <option value="">選択してください</option>
            <option value="adult">一般</option>
            <option value="high-school">高校生</option>
            <option value="junior high-school">中学生</option>
            <option value="elementary school">小学生</option>
            <option value="other">その他</option>
          </select>
          <div class="error-message" id="error-age-group"></div>
        </label><br><br>
      </fieldset><br>

     <!--「練習日設定」セクション -->
<fieldset>
  <legend>練習日設定</legend>

  <!-- 月曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-monday" id="monday" class="practice-checkbox">
    </label>
    <label>
      <select name="monday-frequency" id="monday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>月曜日</span>
    <div class="monday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="monday-week1">第1</label>
      <label><input type="checkbox" name="monday-week2">第2</label>
      <label><input type="checkbox" name="monday-week3">第3</label>
      <label><input type="checkbox" name="monday-week4">第4</label>
      <label><input type="checkbox" name="monday-week5">第5</label>
      <label><input type="checkbox" name="monday-week-etc">不定</label>
    </div>
    <input type="time" name="monday-start" id="monday-start" disabled>
    <input type="time" name="monday-end" id="monday-end" disabled>
  </div>

  <!-- 火曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-tuesday" id="tuesday" class="practice-checkbox">
    </label>
    <label>
      <select name="tuesday-frequency" id="tuesday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>火曜日</span>
    <div class="tuesday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="tuesday-week1">第1</label>
      <label><input type="checkbox" name="tuesday-week2">第2</label>
      <label><input type="checkbox" name="tuesday-week3">第3</label>
      <label><input type="checkbox" name="tuesday-week4">第4</label>
      <label><input type="checkbox" name="tuesday-week5">第5</label>
      <label><input type="checkbox" name="tuesday-week-etc">不定</label>
    </div>
    <input type="time" name="tuesday-start" id="tuesday-start" disabled>
    <input type="time" name="tuesday-end" id="tuesday-end" disabled>
  </div>

  <!-- 水曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-wednesday" id="wednesday" class="practice-checkbox">
    </label>
    <label>
      <select name="wednesday-frequency" id="wednesday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>水曜日</span>
    <div class="wednesday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="wednesday-week1">第1</label>
      <label><input type="checkbox" name="wednesday-week2">第2</label>
      <label><input type="checkbox" name="wednesday-week3">第3</label>
      <label><input type="checkbox" name="wednesday-week4">第4</label>
      <label><input type="checkbox" name="wednesday-week5">第5</label>
      <label><input type="checkbox" name="wednesday-week-etc">不定</label>
    </div>
    <input type="time" name="wednesday-start" id="wednesday-start" disabled>
    <input type="time" name="wednesday-end" id="wednesday-end" disabled>
  </div>

  <!-- 木曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-thursday" id="thursday" class="practice-checkbox">
    </label>
    <label>
      <select name="thursday-frequency" id="thursday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>木曜日</span>
    <div class="thursday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="thursday-week1">第1</label>
      <label><input type="checkbox" name="thursday-week2">第2</label>
      <label><input type="checkbox" name="thursday-week3">第3</label>
      <label><input type="checkbox" name="thursday-week4">第4</label>
      <label><input type="checkbox" name="thursday-week5">第5</label>
      <label><input type="checkbox" name="thursday-week-etc">不定</label>
    </div>
    <input type="time" name="thursday-start" id="thursday-start" disabled>
    <input type="time" name="thursday-end" id="thursday-end" disabled>
  </div>

  <!-- 金曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-friday" id="friday" class="practice-checkbox">
    </label>
    <label>
      <select name="friday-frequency" id="friday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>金曜日</span>
    <div class="friday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="friday-week1">第1</label>
      <label><input type="checkbox" name="friday-week2">第2</label>
      <label><input type="checkbox" name="friday-week3">第3</label>
      <label><input type="checkbox" name="friday-week4">第4</label>
      <label><input type="checkbox" name="friday-week5">第5</label>
      <label><input type="checkbox" name="friday-week-etc">不定</label>
    </div>
    <input type="time" name="friday-start" id="friday-start" disabled>
    <input type="time" name="friday-end" id="friday-end" disabled>
  </div>

  <!-- 土曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-saturday" id="saturday" class="practice-checkbox">
    </label>
    <label>
      <select name="saturday-frequency" id="saturday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>土曜日</span>
    <div class="saturday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="saturday-week1">第1</label>
      <label><input type="checkbox" name="saturday-week2">第2</label>
      <label><input type="checkbox" name="saturday-week3">第3</label>
      <label><input type="checkbox" name="saturday-week4">第4</label>
      <label><input type="checkbox" name="saturday-week5">第5</label>
      <label><input type="checkbox" name="saturday-week-etc">不定</label>
    </div>
    <input type="time" name="saturday-start" id="saturday-start" disabled>
    <input type="time" name="saturday-end" id="saturday-end" disabled>
  </div>

  <!-- 日曜日 -->
  <div class="practice-day-row">
    <label>
      <input type="checkbox" name="practice-sunday" id="sunday" class="practice-checkbox">
    </label>
    <label>
      <select name="sunday-frequency" id="sunday-frequency" class="practice-frequency" disabled>
        <option value="weekly">毎週</option>
        <option value="biweekly">隔週</option>
        <option value="monthly">毎月第⚪︎</option>
      </select>
    </label>
    <span>日曜日</span>
    <div class="sunday-weeks week-checkboxes" style="display:none;">
      <label><input type="checkbox" name="sunday-week1">第1</label>
      <label><input type="checkbox" name="sunday-week2">第2</label>
      <label><input type="checkbox" name="sunday-week3">第3</label>
      <label><input type="checkbox" name="sunday-week4">第4</label>
      <label><input type="checkbox" name="sunday-week5">第5</label>
      <label><input type="checkbox" name="sunday-week-etc">不定</label>
    </div>
    <input type="time" name="sunday-start" id="sunday-start" disabled>
    <input type="time" name="sunday-end" id="sunday-end" disabled>
  </div>

</fieldset><br>

      <!-- 代表者氏名 -->
      <fieldset>
        <legend>代表者氏名</legend>
        <label>姓<span class="required">*</span><br>
          <input type="text" name="last-name" id="last-name" required>
        </label><br><br>
        <label>名<span class="required">*</span><br>
          <input type="text" name="first-name" id="first-name" required>
        </label><br><br>
      </fieldset><br>

      <!-- メールアドレス -->
      <label>連絡先（メールアドレス）<span class="required">*</span><br>
        <input type="email" name="email" required>
      </label><br><br>

      <!-- SNSアカウント -->
      <fieldset>
        <legend>SNSアカウント（任意）</legend>
        <label>X（旧Twitter）URL<br>
          <input type="url" name="x-url" class="long-input" placeholder="https://twitter.com/example">
        </label><br><br>

        <label>Instagram URL<br>
          <input type="url" name="instagram-url" class="long-input" placeholder="https://instagram.com/example">
        </label><br><br>

        <label>YouTube URL<br>
          <input type="url" name="youtube-url" class="long-input" placeholder="https://youtube.com/@example">
        </label><br><br>
      </fieldset><br>

      <!-- チーム紹介 -->
      <label>チーム紹介（自由記入欄）<br>
        <textarea name="team-introduction" rows="15" cols="100" placeholder="例：私たちのチームは楽しく活動することをモットーにしています！"></textarea>
      </label><br><br>

      <button type="submit" disabled>送信（ダミー）</button>
      <p style="font-size: small; color: gray;">※現在は送信機能は未対応です</p>
    </form>
  </main>

  <div id="footer-placeholder"></div>

  <!-- JavaScriptまとめ -->
 <script src="/diamondlink/js/header-loader.js"></script>
<script src="/diamondlink/js/header-mobile.js"></script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  // 都道府県選択肢の読み込み
  const prefectureSelect = document.getElementById('prefecture');
  const citySelect = document.getElementById('city-select');

  fetch('/diamondlink/json/prefecture.json')
    .then(response => response.json())
    .then(data => {
      prefectureSelect.innerHTML = '<option value="">選択してください</option>';
      for (const region in data) {
        const optgroup = document.createElement('optgroup');
        optgroup.label = region;
        data[region].forEach(pref => {
          const option = document.createElement('option');
          option.value = pref;
          option.textContent = pref;
          optgroup.appendChild(option);
        });
        prefectureSelect.appendChild(optgroup);
      }
    })
    .catch(error => {
      console.error('都道府県リストの読み込みに失敗しました:', error);
    });

  // 市区町村選択肢の読み込み
  prefectureSelect.addEventListener('change', function() {
    const selectedPrefecture = this.value;
    citySelect.innerHTML = '<option value="">選択してください</option>';

    if (selectedPrefecture) {
      fetch('/diamondlink/json/prefecture_city.json')
        .then(response => response.json())
        .then(data => {
          if (data[selectedPrefecture]) {
            data[selectedPrefecture].forEach(city => {
              const option = document.createElement('option');
              option.value = city;
              option.textContent = city;
              citySelect.appendChild(option);
            });
          }
        })
        .catch(error => {
          console.error('市区町村データの読み込みに失敗しました:', error);
        });
    }
  });

  // 競技種別による区分選択肢の変更
  const sportType = document.getElementById('sport-type');
  const division = document.getElementById('division');
  sportType.addEventListener('change', function() {
    division.innerHTML = '<option value="">選択してください</option>';
    if (sportType.value === "baseball") {
      division.disabled = false;
      ["指定なし", "軟式", "準硬式", "硬式"].forEach(opt => {
        const option = document.createElement('option');
        option.value = opt;
        option.textContent = opt;
        division.appendChild(option);
      });
    } else if (sportType.value === "softball") {
      division.disabled = false;
      ["指定なし", "ゴム", "革"].forEach(opt => {
        const option = document.createElement('option');
        option.value = opt;
        option.textContent = opt;
        division.appendChild(option);
      });
    } else {
      division.disabled = true;
    }
  });

  // SNS URLチェック
  const form = document.getElementById('team-registration-form');
  form.addEventListener('submit', function(event) {
    let hasError = false;
    const xUrl = form.querySelector('input[name="x-url"]').value.trim();
    const instagramUrl = form.querySelector('input[name="instagram-url"]').value.trim();
    const youtubeUrl = form.querySelector('input[name="youtube-url"]').value.trim();

    if (xUrl && !xUrl.startsWith('https://twitter.com/')) {
      alert('X（旧Twitter）のURLは「https://twitter.com/〜」で始まる必要があります。');
      hasError = true;
    }
    if (instagramUrl && !(instagramUrl.startsWith('https://instagram.com/') || instagramUrl.startsWith('https://www.instagram.com/'))) {
      alert('InstagramのURLは「https://instagram.com/〜」で始まる必要があります。');
      hasError = true;
    }
    if (youtubeUrl && !(youtubeUrl.startsWith('https://youtube.com/') || youtubeUrl.startsWith('https://www.youtube.com/'))) {
      alert('YouTubeのURLは「https://youtube.com/〜」または「https://www.youtube.com/〜」で始まる必要があります。');
      hasError = true;
    }
    if (hasError) {
      event.preventDefault();
    }
  });

  // ログインユーザー情報（仮）
  document.getElementById('last-name').value = '山田';
  document.getElementById('first-name').value = '太郎';

  // 練習日セクション
  const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
  days.forEach(day => {
    const checkbox = document.getElementById(day);
    const frequency = document.getElementById(day + '-frequency');
    const weekCheckboxes = document.querySelector('.' + day + '-weeks');
    const start = document.getElementById(day + '-start');
    const end = document.getElementById(day + '-end');

    // 曜日のチェックボックスON/OFF
    checkbox.addEventListener('change', function() {
      const enabled = checkbox.checked;
      frequency.disabled = !enabled;
      start.disabled = !enabled;
      end.disabled = !enabled;
      if (!enabled) {
        weekCheckboxes.style.display = 'none';
      }
    });

    // 頻度プルダウン変更時
    frequency.addEventListener('change', function() {
      if (frequency.value === 'monthly') {
        weekCheckboxes.style.display = 'block';
      } else {
        weekCheckboxes.style.display = 'none';
      }
    });
  });
});
</script>
  
</body>
</html>
