<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>DiamondLink | アカウント作成</title>
  <link rel="icon" href="/diamondlink/images/fabicon_square.png" type="image/png">
  <link rel="stylesheet" href="/diamondlink/css/style.css?v=2">
  <link rel="stylesheet" href="/diamondlink/css/header.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    .required { color: red; margin-left: 5px; }
    .error-message { color: red; font-size: 0.9em; margin-top: 5px; }
  </style>

 <style>
body::before {
  content: "";
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: url('/diamondlink/images/background-1.png'); /* ←背景画像リンク*/
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  opacity: 0.2;
  z-index: -1;
}
</style>

  <style>
.name-fields {
  display: flex;
  gap: 20px;
  margin-top: 10px;
}
.field-group {
  display: flex;
  flex-direction: column;
}
</style>

  <style>
.area-fields {
  display: flex;
  gap: 20px;
  margin-top: 10px;
}
</style>

  <style>
.submit-button {
  display: inline-block;
  padding: 12px 30px;
  font-size: 16px;
  font-weight: bold;
  border: none;
  border-radius: 8px;
  background-color: #007BFF; /* ブルー */
  color: white;
  cursor: pointer;
  transition: background-color 0.3s ease;
}
.submit-button:hover {
  background-color: #0056b3; /* ホバー時、ちょっと濃い青に */
}
</style>

  <style>
.password-label-and-toggle {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}

.password-label-and-toggle button {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.2em;
}

.password-input-wrap {
  max-width: 300px;
}

#password-strength {
  height: 8px;
  background: #ccc;
  border-radius: 4px;
  margin-top: 10px;
}

#password-strength-bar {
  height: 100%;
  width: 0%;
  background: red;
  transition: width 0.3s;
}

#password-strength-text {
  margin: 5px 0 0;
  font-size: 0.9em;
  color: gray;
}
</style>

</head>

<body>

<!-- 共通ヘッダー -->
<div id="header-placeholder"></div>

<main class="container">
  <div class="fade-in-section">
  <h1>アカウント作成</h1>
  <p>以下の情報を入力してください（※現在はダミーです）。</p>
  <p>すでにアカウントをお持ちの方は <a href="#" id="login-link">こちらからログイン</a></p>
    
  <form id="account-form" action="https://formspree.io/f/xqaqaloa" method="POST">
    
    <div class="card fade-in-section">
  <fieldset>
    <legend>お客様情報</legend>

    <!-- 氏名 -->
    <div class="name-fields">
      <div class="field-group">
        <label for="last-name">姓<span class="required">*</span></label>
        <input type="text" name="last-name" id="last-name" required>
        <div class="error-message" id="error-last-name"></div>
      </div>
      <div class="field-group">
        <label for="first-name">名<span class="required">*</span></label>
        <input type="text" name="first-name" id="first-name" required>
        <div class="error-message" id="error-first-name"></div>
      </div>
    </div><br><br>

    <!-- ニックネーム -->
    <label>ニックネーム<span class="required">*</span>（あとから変更できます）<br>
      <input type="text" name="nickname" id="nickname">
      <div class="error-message" id="error-nickname"></div>
    </label><br><br>

    <!-- 生年月日 -->
    <label>生年月日<span class="required">*</span><br>
      <input type="text" id="birthdate" name="birthdate" placeholder="例）20001215" pattern="\d{8}" inputmode="numeric">
      <div class="error-message" id="error-birthdate"></div>
    </label><br><br>

    <!-- 性別 -->
    <label>性別<span class="required">*</span><br>
      <select name="gender" required>
        <option value="">選択してください</option>
        <option value="male">男性</option>
        <option value="female">女性</option>
        <option value="other">その他</option>
      </select>
      <div class="error-message" id="error-gender"></div>
    </label><br><br>

    <!-- お住まいの地域 -->
    <div class="area-fields">
      <div class="field-group">
        <label for="prefecture">都道府県<span class="required">*</span></label>
        <select name="prefecture" id="prefecture" required>
          <option value="">選択してください</option>
        </select>
        <div class="error-message" id="error-prefecture"></div>
      </div>

      <div class="field-group">
        <label for="city-select">市区町村<span class="required">*</span></label>
        <select name="city" id="city-select" required>
          <option value="">選択してください</option>
        </select>
        <div class="error-message" id="error-city"></div>
      </div>
    </div><br><br>

    <!-- メールアドレス -->
    <label>メールアドレス<span class="required">*</span><br>
      <input type="email" name="email" class="long-input" placeholder="例）diamondlink@example.com" required>
    </label><br><br>
    
<!-- パスワード設定 -->
<div class="password-label-and-toggle">
  <label for="password">パスワード<span class="required">*</span></label>
  <button type="button" id="toggle-password"><i class="fa-solid fa-eye"></i></button>
</div>

<div class="password-input-wrap">
  <input type="password" name="password" id="password" required>
  <div id="password-strength">
    <div id="password-strength-bar"></div>
  </div>
  <p id="password-strength-text">パスワードの強度を表示します</p>
</div>
    
  </fieldset>
</div>
<br>

    <div class="card fade-in-section">
  <fieldset>
    <legend>ご利用について</legend>

    <!-- チーム加入 -->
    <label>Q.現在、野球またはソフトボールチームに加入していますか？<span class="required">*</span><br>
      <input type="radio" name="team-member" value="はい"> はい
      <input type="radio" name="team-member" value="いいえ"> いいえ
      <div class="error-message" id="error-team-member"></div>
    </label><br>

    <!-- 利用目的 -->
    <label>Q.ご利用目的を教えてください。（複数選択可）<span class="required">*</span><br>
      <input type="checkbox" name="purpose" value="join-team"> メンバーを募集しているチームを探したい<br>
      <input type="checkbox" name="purpose" value="practice-only"> 練習に参加できるチームを探したい<br>
      <input type="checkbox" name="purpose" value="publish-team"> 自分のチーム情報を掲載したい<br>
      <input type="checkbox" name="purpose" value="transfer-team"> 移籍先のチームを探したい<br>
      <input type="checkbox" name="purpose" value="practice-match"> 練習試合の相手を探したい<br>
      <input type="checkbox" name="purpose" value="other"> その他<br>
      <textarea name="other-purpose" rows="6" cols="60" placeholder="その他の場合はこちらに記入"></textarea>
    </label><br><br>

  </fieldset>
</div>
<br>

    <button type="submit" class="submit-button">アカウント作成（ダミー）</button>
    <p style="font-size: small; color: gray;">※まだ送信機能は有効になっていません</p>
  </form>
  </div>  
</main>

<!-- ログイン用モーダル -->
<div id="login-modal" class="modal" style="display:none;">
  <div class="modal-content">
    <span class="close-button">&times;</span>
    <h2>ログイン</h2>
    <form>
      <label>メールアドレス</label><br>
      <input type="email" required><br><br>
      <label>パスワード</label><br>
      <input type="password" required><br><br>
      <button type="submit">ログイン</button>
    </form>
  </div>
</div>
  
<!-- 共通フッター -->
<div id="footer-placeholder"></div>

<!-- JavaScript -->
<script src="/diamondlink/js/header-loader.js"></script>
<script src="/diamondlink/js/header-mobile.js"></script>
<script src="/diamondlink/js/prefecture-loader.js"></script> <!-- ⭐ 都道府県＋市区町村ロード用 -->

<!-- モーダル管理-->
<script src="/diamondlink/js/login-modal.js"></script>

<script src="/diamondlink/js/common.js"></script> 

  <!-- 都道府県と市町村連動-->
<script>
document.addEventListener('DOMContentLoaded', function() {
  const prefectureSelect = document.getElementById('prefecture');
  const citySelect = document.getElementById('city-select');

  citySelect.disabled = true; // 最初は市区町村をグレーアウトしておく

  fetch('/diamondlink/json/prefecture.json')
    .then(response => response.json())
    .then(data => {
      prefectureSelect.innerHTML = '<option value="">選択してください</option>';
      for (const region in data) {
        const optgroup = document.createElement('optgroup');
        optgroup.label = region;
        data[region].forEach(pref => {
          const option = document.createElement('option');
          option.value = pref;
          option.textContent = pref;
          optgroup.appendChild(option);
        });
        prefectureSelect.appendChild(optgroup);
      }
    })
    .catch(error => {
      console.error('都道府県リストの読み込みに失敗しました:', error);
    });

  prefectureSelect.addEventListener('change', function() {
    const selectedPrefecture = this.value;
    citySelect.innerHTML = '<option value="">選択してください</option>';

    if (selectedPrefecture) {
      citySelect.disabled = false; // 都道府県が選ばれたら市区町村を有効化
      fetch('/diamondlink/json/prefecture_city.json')
        .then(response => response.json())
        .then(data => {
          if (data[selectedPrefecture]) {
            data[selectedPrefecture].forEach(city => {
              const option = document.createElement('option');
              option.value = city;
              option.textContent = city;
              citySelect.appendChild(option);
            });
          }
        })
        .catch(error => {
          console.error('市区町村データの読み込みに失敗しました:', error);
        });
    } else {
      citySelect.disabled = true; // 都道府県が未選択ならまたグレーアウト
    }
  });
});
</script>
  
</body>
</html>
